/*
 * main.c
 *
 *  Created on: Jul 1, 2024
 *      Author: Shiko
 */
#include "keypad.h"
#include "lcd.h"
#include<util/delay.h>

volatile uint8 i=0;

int main()
{
	LCD_init();
	uint8 data[3];
	volatile uint8 result=0;


	while(1)
	{
		data[i]=KEYPAD_getPressedKey();

		if (data[i]>=0 && data[i] <=9)
		{
			LCD_intgerToString(data[i]);
			i++;
		}
		else
		{
			LCD_displayCharacter(data[i]);
			i++;
		}
		_delay_ms(500);

		if(i==2)
		{
			switch(data[1])
			{
			case'*':
				result = data[0]*data[2];
				LCD_intgerToString(result);
				break;
			case'+':
				result = data[0] + data[2];
				LCD_intgerToString(result);
				break;
			case'-' :
				result = data[0] - data[2];
				LCD_intgerToString(result);
				break;
			}
		}

		if(i>=2)
		{
			_delay_ms(500);
			LCD_clearScreen();
		}
	}
}
